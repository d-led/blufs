# GNU Make solution makefile autogenerated by Premake

.NOTPARALLEL:

ifndef config
  config=debug_x32
endif

ifndef verbose
  SILENT = @
endif

ifeq ($(config),debug_x32)
  lua5.3_config = debug_x32
  luabind_config = debug_x32
  blufs_config = debug_x32
  custom_lua_config = debug_x32
  lufs_config = debug_x32
  test_blufs_config = debug_x32
endif
ifeq ($(config),debug_x64)
  lua5.3_config = debug_x64
  luabind_config = debug_x64
  blufs_config = debug_x64
  custom_lua_config = debug_x64
  lufs_config = debug_x64
  test_blufs_config = debug_x64
endif
ifeq ($(config),debug_native)
  lua5.3_config = debug_native
  luabind_config = debug_native
  blufs_config = debug_native
  custom_lua_config = debug_native
  lufs_config = debug_native
  test_blufs_config = debug_native
endif
ifeq ($(config),release_x32)
  lua5.3_config = release_x32
  luabind_config = release_x32
  blufs_config = release_x32
  custom_lua_config = release_x32
  lufs_config = release_x32
  test_blufs_config = release_x32
endif
ifeq ($(config),release_x64)
  lua5.3_config = release_x64
  luabind_config = release_x64
  blufs_config = release_x64
  custom_lua_config = release_x64
  lufs_config = release_x64
  test_blufs_config = release_x64
endif
ifeq ($(config),release_native)
  lua5.3_config = release_native
  luabind_config = release_native
  blufs_config = release_native
  custom_lua_config = release_native
  lufs_config = release_native
  test_blufs_config = release_native
endif

PROJECTS := lua5.3 luabind blufs custom_lua lufs test_blufs

.PHONY: all clean help $(PROJECTS) 

all: $(PROJECTS)

lua5.3:
ifneq (,$(lua5.3_config))
	@echo "==== Building lua5.3 ($(lua5.3_config)) ===="
	@${MAKE} --no-print-directory -C . -f lua5.3.make config=$(lua5.3_config)
endif

luabind:
ifneq (,$(luabind_config))
	@echo "==== Building luabind ($(luabind_config)) ===="
	@${MAKE} --no-print-directory -C . -f luabind.make config=$(luabind_config)
endif

blufs: luabind lua5.3
ifneq (,$(blufs_config))
	@echo "==== Building blufs ($(blufs_config)) ===="
	@${MAKE} --no-print-directory -C . -f blufs.make config=$(blufs_config)
endif

custom_lua:
ifneq (,$(custom_lua_config))
	@echo "==== Building custom_lua ($(custom_lua_config)) ===="
	@${MAKE} --no-print-directory -C . -f custom_lua.make config=$(custom_lua_config)
endif

lufs: luabind custom_lua lua5.3
ifneq (,$(lufs_config))
	@echo "==== Building lufs ($(lufs_config)) ===="
	@${MAKE} --no-print-directory -C . -f lufs.make config=$(lufs_config)
endif

test_blufs: lua5.3 luabind
ifneq (,$(test_blufs_config))
	@echo "==== Building test_blufs ($(test_blufs_config)) ===="
	@${MAKE} --no-print-directory -C . -f test_blufs.make config=$(test_blufs_config)
endif

clean:
	@${MAKE} --no-print-directory -C . -f lua5.3.make clean
	@${MAKE} --no-print-directory -C . -f luabind.make clean
	@${MAKE} --no-print-directory -C . -f blufs.make clean
	@${MAKE} --no-print-directory -C . -f custom_lua.make clean
	@${MAKE} --no-print-directory -C . -f lufs.make clean
	@${MAKE} --no-print-directory -C . -f test_blufs.make clean

help:
	@echo "Usage: make [config=name] [target]"
	@echo ""
	@echo "CONFIGURATIONS:"
	@echo "  debug_x32"
	@echo "  debug_x64"
	@echo "  debug_native"
	@echo "  release_x32"
	@echo "  release_x64"
	@echo "  release_native"
	@echo ""
	@echo "TARGETS:"
	@echo "   all (default)"
	@echo "   clean"
	@echo "   lua5.3"
	@echo "   luabind"
	@echo "   blufs"
	@echo "   custom_lua"
	@echo "   lufs"
	@echo "   test_blufs"
	@echo ""
	@echo "For more information, see http://industriousone.com/premake/quick-start"
